<% if @comment.commentable.class.name == "Question" %>
  $('.question-comment-errors').html('<%= render 'shared/errors', resource: @comment %>');
<% elsif @comment.commentable.class.name == "Answer" %>
  $("#answer-<%= @comment.commentable.id %> .comment-answer-new .answer-comment-errors").html('<%= render 'shared/errors', resource: @comment %>');
<% end %>

<% if @comment.persisted? %>
  <% if @comment.commentable.class.name == "Question" %>
    $('#question-<%= @comment.commentable.id %> .comments-question').append('<%= j render @comment %>');
    $('.new-comment #comment_body').val('');
  <% elsif @comment.commentable.class.name == "Answer" %>
    $('#answer-<%= @comment.commentable.id %> .comments-answer').append('<%= j render @comment %>');
    $('.new-comment #comment_body').val('');    
  <% end %>
<% end %>